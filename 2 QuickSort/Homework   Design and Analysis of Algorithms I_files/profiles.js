(function(){function e(e){return-1!=e.text().toLowerCase().indexOf("anonymous")}function t(){var t=[],n=$("span[data-user-id]");n.each(function(){e($(this))||t.push($(this).attr("data-user-id"))});var a="https://www.coursera.org";"spark.dev-coursera.org"==window.location.hostname&&(a="https://site.dev-coursera.org");var o=a+"/maestro/api/user/profiles?user-ids="+t.join(",");$.ajax({url:o,dataType:"jsonp",type:"get",success:i})}function n(e){return e.replace(/^http:\/\//i,"https://")}function i(t){$.each(t,function(t,i){var a=$('span[data-user-id="'+i.id+'"]');a.each(function(){var t=$(this);if(!e(t)){var a=$('<a href="https://www.coursera.org/user/i/'+i.external_id+'"></a>');a.append(i.display_name);var o=(t.attr("title")||"")+(t.find("span").attr("title")||"");if(o&&a.attr("title",o),t.attr("data-user-title")&&"Student"!=t.attr("data-user-title")){var r=$("<span>"+t.attr("data-user-title")+"</span>");r.css({padding:"1px 3px 2px","font-size":"10px","font-weight":"bold","text-transform":"uppercase",background:"#ebbc4c",margin:"0px 4px 0px 6px"}),a.append(r)}if(i.photo_24){var s=$('<img src="'+n(i.photo_24)+'">');s.css({width:"24px",height:"24px","vertical-align":"bottom","margin-right":"5px",border:"1px solid #CCC"}),a.prepend(s)}t.empty().append(a)}})})}$(document).ready(function(){t()})})();